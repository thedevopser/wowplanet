{% props result, index = null %}

{% set char = result.character %}
{% set curr = result.currency %}

<div class="card-glass rounded-xl p-3.5 hover:shadow-xl transition-all hover:-translate-y-1 flex flex-col h-full border-none shadow-sm"
     {% if index %}data-results-pagination-target="item"{% endif %}>

    <div class="flex items-center gap-3 mb-3">
        <div class="min-w-0 w-full">
            <h4 class="font-black text-base leading-tight truncate text-white">
                {{ char.name }}
            </h4>
            {% if char.realm is defined and char.realm %}
                <p class="text-[10px] truncate opacity-60 uppercase tracking-tighter" style="color: var(--text-secondary);">
                    {% if char.realm is iterable %}
                        {{ char.realm.name }}
                    {% else %}
                        {{ char.realm }}
                    {% endif %}
                </p>
            {% endif %}
        </div>
    </div>

    <div class="flex gap-1.5 mb-4 flex-wrap">
        <span class="px-1.5 py-0.5 rounded text-[9px] font-semibold bg-white/5 text-white/50">
            {{ char.faction|default('Unknown') }}
        </span>
        {% if char.level is defined %}
            <span class="px-1.5 py-0.5 rounded text-[9px] font-semibold bg-white/5 text-white/50">
                Niv. {{ char.level }}
            </span>
        {% endif %}
        {% if char.playable_class is defined %}
            <span class="px-1.5 py-0.5 rounded text-[9px] font-semibold bg-white/5 text-white/50 truncate max-w-[90px]">
                {{ char.playable_class.name }}
            </span>
        {% elseif char.class is defined %}
            <span class="px-1.5 py-0.5 rounded text-[9px] font-semibold bg-white/5 text-white/50 truncate max-w-[90px]">
                {{ char.class }}
            </span>
        {% endif %}
    </div>

    <div class="mt-auto space-y-3">
        <div class="pt-2">
            <div class="w-full h-16 rounded-xl bg-linear-to-r from-blue-500/20 to-purple-500/20 flex items-center justify-center">
                <span class="text-2xl font-black bg-linear-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent">
                    {{ result.quantity|number_format(0, ',', ' ') }}
                </span>
            </div>
        </div>
    </div>
</div>
